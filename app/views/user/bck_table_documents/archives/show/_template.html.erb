<script type="text/javascript">
  function resizeIframe(obj) {
    obj.style.height = obj.contentWindow.document.documentElement.scrollHeight + 'px';
  }
</script>

<%= form_tag(translate_user_template_document_path(@document), 
              method: :put, class: "form-floating",
              id: "DOCUMENT_TRANSLATE_FORM", remote: true,
              html: { autocomplete: "off" }) do |f| %>

  <div class="row pb-4">
    <div class="col-md-6">
      <textarea class="tinymce-editor" id="input_tinymce" name='input_html_source'>
        <%= raw @document.input_html_source %>
      </textarea>
    </div>
    <div class="col-md-6">
      <div class="body" style="height:500px;">
        <iframe id="DOC_PREVIEW" frameborder="0" scrolling="no" onload1="resizeIframe(this)">
        </iframe>
      </div>
    </div>
  </div>

  <!-- Display Tags -->
  <div class="col-lg-12 ">
    <div class="card">
      <div class="body p-10">
        <div class="input-group demo-tagsinput-area remove-border">
          <input type="text" class="form-control" data-role="tagsinput" value="<%= @document.tags.pluck(:name).join(",") %>">
        </div>
      </div>
    </div>
  </div>

  <div class="row pb-4">
    <div class="form-group col-md-12">
      <button class="btn btn-primary float-right mt-4" type="submit" >Translate</button>
    </div>
  </div>

<% end %>